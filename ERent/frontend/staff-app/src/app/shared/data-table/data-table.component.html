<table mat-table [dataSource]="dataSource" class="mat-elevation-z2">

  <ng-container *ngFor="let col of displayedColumns" [matColumnDef]="col">
    <th mat-header-cell *matHeaderCellDef>{{ columnLabels[col] || col }}</th>
    <td mat-cell *matCellDef="let row">{{ row[col] }}</td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let row" class="action-icons">

      <button *ngIf="showBlockUnblock"
              mat-stroked-button
              color="primary"
              class="small-btn"
              (click)="blockUnblock.emit(row)">
        {{ row.blocked ? 'Unblock' : 'Block' }}
      </button>

      <ng-container *ngIf="!showBlockUnblock">
        <button *ngIf="showInfo"
                mat-icon-button class="icon-btn info"
                (click)="info.emit(row)">
          <mat-icon>info_outline</mat-icon>
        </button>

        <button *ngIf="showEdit"
                mat-icon-button class="icon-btn edit"
                (click)="edit.emit(row)">
          <mat-icon>drive_file_rename_outline</mat-icon>
        </button>

        <button *ngIf="showDelete"
                mat-icon-button class="icon-btn delete"
                (click)="delete.emit(row)">
          <mat-icon>delete_outline</mat-icon>
        </button>
      </ng-container>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="generatedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: generatedColumns"></tr>

  <tr class="mat-row" *matNoDataRow>
    <td class="mat-cell no-data-cell" [attr.colspan]="generatedColumns.length">
      No results to display
    </td>
  </tr>
</table>

